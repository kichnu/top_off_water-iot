<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modal Reference - DOZOWNIK Style</title>
<style>
/* ============================================
   DOZOWNIK MODAL SYSTEM - Reference / Demo
   Dark theme modal replacing browser alert()
   ============================================ */

/* --- Color Variables --- */
:root {
    --bg-primary: #0a0f1a;
    --bg-card: #111827;
    --bg-card-hover: #1a2332;
    --bg-input: #1e293b;
    --border: #2d3a4f;
    --text-primary: #f1f5f9;
    --text-secondary: #94a3b8;
    --text-muted: #64748b;
    --accent-blue: #38bdf8;
    --accent-cyan: #22d3d5;
    --accent-green: #22c55e;
    --accent-red: #ef4444;
    --accent-yellow: #eab308;
    --radius-sm: 6px;
    --radius-md: 10px;
    --radius-lg: 14px;
    --font-xs: 0.6rem;
    --font-sm: 0.7rem;
    --font-md: 0.8rem;
    --font-lg: 0.95rem;
    --btn-height: 40px;
}

/* --- Demo page body --- */
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 12px;
}

/* ============================================
   MODAL OVERLAY
   - Fixed fullscreen backdrop
   - Dark semi-transparent + blur
   - Show/hide via .show class toggle
   ============================================ */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.2s ease;
}

.modal-overlay.show {
    opacity: 1;
    visibility: visible;
}

/* ============================================
   MODAL BOX
   - Card-style container
   - Scale animation on show
   ============================================ */
.modal-box {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);  /* 14px */
    padding: 24px;
    max-width: 360px;
    width: 90%;
    transform: scale(0.9);
    transition: transform 0.2s ease;
}

.modal-overlay.show .modal-box {
    transform: scale(1);
}

/* ============================================
   MODAL ICON
   - Circular 48px icon container
   - Color variants: ok, err, warn, info
   ============================================ */
.modal-icon {
    width: 48px;
    height: 48px;
    margin: 0 auto 16px;
    background: rgba(34, 197, 94, 0.15);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-icon svg {
    width: 24px;
    height: 24px;
}

/* Icon color variants */
.modal-icon.ok   { background: rgba(34, 197, 94, 0.15); }
.modal-icon.ok svg   { color: var(--accent-green); }

.modal-icon.err  { background: rgba(239, 68, 68, 0.15); }
.modal-icon.err svg  { color: var(--accent-red); }

.modal-icon.warn { background: rgba(234, 179, 8, 0.15); }
.modal-icon.warn svg { color: var(--accent-yellow); }

.modal-icon.info { background: rgba(56, 189, 248, 0.15); }
.modal-icon.info svg { color: var(--accent-blue); }

/* ============================================
   MODAL TEXT ELEMENTS
   ============================================ */
.modal-title {
    font-size: var(--font-lg);        /* 0.95rem */
    font-weight: 700;
    text-align: center;
    margin-bottom: 8px;
    color: var(--text-primary);
}

.modal-text {
    font-size: var(--font-sm);        /* 0.7rem */
    text-align: center;
    color: var(--text-secondary);
    margin-bottom: 20px;
    line-height: 1.5;
}

/* Optional info block inside modal */
.modal-info {
    background: var(--bg-input);
    border-radius: var(--radius-sm);
    padding: 12px;
    margin-bottom: 20px;
    text-align: center;
}

.modal-info-label {
    font-size: var(--font-xs);
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.modal-info-value {
    font-family: 'SF Mono', 'Fira Code', monospace;
    font-size: var(--font-lg);
    font-weight: 700;
    color: var(--accent-cyan);
}

/* ============================================
   MODAL BUTTONS
   ============================================ */
.modal-actions {
    display: flex;
    gap: 10px;
}

.modal-actions .btn {
    flex: 1;
}

.btn {
    height: var(--btn-height);        /* 40px */
    border-radius: var(--radius-sm);  /* 6px */
    font-size: var(--font-sm);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.15s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
}

.btn-primary {
    background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue));
    border: none;
    color: var(--bg-primary);
}

.btn-primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(34, 211, 213, 0.3);
}

.btn-secondary {
    background: var(--bg-input);
    border: 1px solid var(--border);
    color: var(--text-secondary);
}

.btn-secondary:hover {
    background: var(--bg-card-hover);
    color: var(--text-primary);
}

/* ============================================
   DEMO BUTTONS (not part of the modal)
   ============================================ */
.demo-btn {
    padding: 10px 20px;
    border-radius: var(--radius-sm);
    border: 1px solid var(--border);
    background: var(--bg-card);
    color: var(--text-primary);
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.15s ease;
}
.demo-btn:hover {
    background: var(--bg-card-hover);
    border-color: var(--accent-cyan);
}
</style>
</head>
<body>

<!-- ============================================
     DEMO TRIGGER BUTTONS
     ============================================ -->
<div style="text-align:center; margin-bottom:20px; color:var(--text-muted); font-size:0.75rem;">
    DOZOWNIK Modal System - Demo
</div>
<button class="demo-btn" onclick="showAlert('Success', 'Operation completed successfully.', 'ok')">Alert: OK</button>
<button class="demo-btn" onclick="showAlert('Error', 'Something went wrong. Please try again.', 'err')">Alert: Error</button>
<button class="demo-btn" onclick="showAlert('Warning', 'This action cannot be undone.', 'warn')">Alert: Warning</button>
<button class="demo-btn" onclick="showAlert('Information', 'Changes will be active from tomorrow.', 'info')">Alert: Info</button>
<button class="demo-btn" onclick="showConfirm('Delete item?', 'This will permanently remove the selected item.', 'warn', function(){ showAlert('Deleted', 'Item removed.', 'ok'); })">Confirm dialog</button>
<button class="demo-btn" onclick="showConfirm('Save changes?', 'Configuration will be active from tomorrow.', 'info', function(){ showAlert('Saved', 'Configuration saved.', 'ok'); })">Confirm with info</button>

<!-- ============================================
     MODAL HTML STRUCTURE
     Single reusable modal for alerts & confirms
     ============================================ -->
<div class="modal-overlay" id="alertModal">
    <div class="modal-box">
        <div class="modal-icon" id="alertIcon"></div>
        <div class="modal-title" id="alertTitle"></div>
        <div class="modal-text" id="alertText"></div>
        <div class="modal-actions" id="alertActions"></div>
    </div>
</div>

<script>
/* ============================================
   MODAL JAVASCRIPT API

   Usage:
     showAlert(title, message, type, callback?)
     showConfirm(title, message, type, onConfirm)

   Types: 'ok', 'err', 'warn', 'info'
   ============================================ */

// SVG icons for each modal type
const MODAL_ICONS = {
    ok:   '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>',
    err:  '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>',
    warn: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>',
    info: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>'
};

let alertCallback = null;

/**
 * Show alert modal (single OK button)
 * @param {string} title   - Modal title
 * @param {string} msg     - Modal message
 * @param {string} type    - 'ok' | 'err' | 'warn' | 'info'
 * @param {Function} [cb]  - Optional callback after close
 */
function showAlert(title, msg, type, cb) {
    document.getElementById('alertIcon').className = 'modal-icon ' + type;
    document.getElementById('alertIcon').innerHTML = MODAL_ICONS[type] || MODAL_ICONS.info;
    document.getElementById('alertTitle').textContent = title;
    document.getElementById('alertText').textContent = msg;
    document.getElementById('alertActions').innerHTML =
        '<button class="btn btn-primary" onclick="closeAlert()">OK</button>';
    alertCallback = cb || null;
    document.getElementById('alertModal').classList.add('show');
}

/**
 * Show confirm modal (Cancel + Confirm buttons)
 * @param {string} title      - Modal title
 * @param {string} msg        - Modal message
 * @param {string} type       - 'ok' | 'err' | 'warn' | 'info'
 * @param {Function} onConfirm - Called when user clicks Confirm
 */
function showConfirm(title, msg, type, onConfirm) {
    document.getElementById('alertIcon').className = 'modal-icon ' + type;
    document.getElementById('alertIcon').innerHTML = MODAL_ICONS[type] || MODAL_ICONS.info;
    document.getElementById('alertTitle').textContent = title;
    document.getElementById('alertText').textContent = msg;
    document.getElementById('alertActions').innerHTML =
        '<button class="btn btn-secondary" onclick="closeAlert()">Cancel</button>' +
        '<button class="btn btn-primary" onclick="closeAlert(true)">Confirm</button>';
    alertCallback = onConfirm;
    document.getElementById('alertModal').classList.add('show');
}

/**
 * Close modal
 * @param {boolean} [confirmed] - true if user clicked Confirm
 */
function closeAlert(confirmed) {
    document.getElementById('alertModal').classList.remove('show');
    if (confirmed && alertCallback) alertCallback();
    alertCallback = null;
}

// Close on overlay click
document.addEventListener('click', function(e) {
    if (e.target.id === 'alertModal') closeAlert();
});

// Close on Escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') closeAlert();
});
</script>

</body>
</html>
